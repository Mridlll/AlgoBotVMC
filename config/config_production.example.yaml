# VMC Trading Bot - Production Configuration (V3.2)
# Based on 1-year backtest with REALISTIC COSTS (0.06% commission + 0.03% slippage)
# Combined expected: +$18,354/year (+183%) with ~318 trades/year
#
# COST MODEL:
# - Commission: 0.06% per trade (Hyperliquid maker fee)
# - Slippage: 0.03% per side (0.06% round-trip)
# - Total cost per trade: ~0.18%
#
# Asset Performance Summary (1-Year Backtest with Slippage):
# - BTC: 30m ENHANCED + FULL_SIGNAL + OFF_MARKET = +$5,605 (+56%), PF 2.08, 47 trades
# - ETH: 30m SIMPLE + FULL_SIGNAL + OFF_MARKET = +$4,136 (+41%), PF 1.34, 118 trades
# - SOL: 30m SIMPLE + FULL_SIGNAL + ALL_HOURS = +$8,613 (+86%), PF 1.53, 153 trades
#
# TIME FILTER ANALYSIS (1-Year):
# - WEEKENDS_ONLY: +$8,007 overall (only profitable filter across all configs)
# - ALL_HOURS: -$18,324 (high trade count = high costs)
# - OFF_MARKET: -$23,993 (but BTC/ETH individually profitable)
# - Per-asset time filter is CRITICAL for profitability

# ==============================================================================
# EXCHANGE CONFIGURATION
# ==============================================================================
exchange:
  name: "hyperliquid"
  api_key: ""
  api_secret: ""        # Private key (API wallet recommended)
  wallet_address: ""    # Your API wallet address
  account_address: ""   # Main wallet address (if using API wallet)
  testnet: true         # START WITH TESTNET! Switch to false after validation

# ==============================================================================
# TRADING PARAMETERS
# ==============================================================================
trading:
  assets:
    - "BTC"
    - "ETH"
    - "SOL"

  # Default timeframe (overridden per-asset below)
  timeframe: "30m"

  # Risk Management - Conservative for production
  risk_percent: 1.5     # 1.5% per trade (conservative start)
  max_positions: 6      # 2 per asset
  max_positions_per_asset: 2
  leverage: 1.5         # Low leverage for safety

  # Global time filter (overridden per-asset below)
  # NOTE: Each asset has its own optimal time filter!
  time_filter:
    enabled: true
    mode: "off_market"        # Default, but see per-asset overrides
    ny_open_hour_utc: 14      # 9:30am EST = 14:30 UTC
    ny_close_hour_utc: 21     # 4:00pm EST = 21:00 UTC

# ==============================================================================
# STRATEGY CONFIGURATION
# ==============================================================================
strategy:
  # Default signal mode (overridden per-asset below)
  signal_mode: "simple"

  # ENHANCED mode settings (for BTC)
  anchor_level: 60
  trigger_timeout_bars: 20
  require_mfi_confirm: true
  require_vwap_confirm: true

# ==============================================================================
# PER-ASSET CONFIGURATION (V3.2 Optimal - With Realistic Costs)
# ==============================================================================
assets_config:
  # BTC: 30m ENHANCED + FULL_SIGNAL + OFF_MARKET (47 trades/year, 56% return)
  # NOTE: BTC performs BADLY during NY hours - OFF_MARKET is critical!
  BTC:
    enabled: true
    timeframe: "30m"
    signal_mode: "enhanced"
    exit_strategy: "oscillator"
    oscillator_mode: "full_signal"
    anchor_level: 60
    max_positions: 2
    time_filter:
      enabled: true
      mode: "off_market"    # CRITICAL: BTC = -$21K with ALL_HOURS, +$5.6K with OFF_MARKET

  # ETH: 30m SIMPLE + FULL_SIGNAL + OFF_MARKET (118 trades/year, 41% return)
  ETH:
    enabled: true
    timeframe: "30m"
    signal_mode: "simple"
    exit_strategy: "oscillator"
    oscillator_mode: "full_signal"
    max_positions: 2
    time_filter:
      enabled: true
      mode: "off_market"    # ETH benefits from OFF_MARKET

  # SOL: 30m SIMPLE + FULL_SIGNAL + ALL_HOURS (153 trades/year, 86% return)
  # NOTE: SOL is the best performer and works in all conditions
  SOL:
    enabled: true
    timeframe: "30m"
    signal_mode: "simple"
    exit_strategy: "oscillator"
    oscillator_mode: "full_signal"
    max_positions: 2
    time_filter:
      enabled: false        # SOL works best with ALL_HOURS (no filter)

# ==============================================================================
# VMC INDICATOR SETTINGS
# ==============================================================================
indicators:
  # WaveTrend parameters (standard VMC settings)
  wt_channel_len: 9
  wt_average_len: 12
  wt_ma_len: 3

  # SIMPLE mode thresholds (for ETH, SOL)
  wt_overbought_1: 53
  wt_oversold_1: -53

  # ENHANCED mode thresholds (for BTC)
  wt_overbought_2: 60
  wt_oversold_2: -60

  # Money Flow settings
  mfi_period: 60
  mfi_multiplier: 150.0
  mfi_y_pos: 2.5

# ==============================================================================
# STOP LOSS CONFIGURATION
# ==============================================================================
stop_loss:
  method: "swing"
  swing_lookback: 5
  buffer_percent: 0.5
  atr_multiplier: 1.5
  atr_period: 14
  fixed_percent: 2.0

# ==============================================================================
# TAKE PROFIT CONFIGURATION
# ==============================================================================
take_profit:
  # All assets use FULL_SIGNAL exit (oscillator-based)
  method: "oscillator"
  oscillator_mode: "full_signal"

  # Fixed RR settings (not used in V3.2, but available)
  risk_reward: 2.0

  # Partial TP settings (not used in V3.2 config)
  partial_tp_percent: 50.0
  partial_tp_rr: 1.0
  move_sl_to_breakeven: true

  # Trailing stop settings (not used in V3.2 config)
  trailing_activation_rr: 1.5
  trailing_distance_percent: 1.0

# ==============================================================================
# NOTIFICATIONS
# ==============================================================================
discord:
  enabled: true
  webhook_url: ""       # Set via DISCORD_WEBHOOK env var or paste here
  notify_on_signal: true
  notify_on_trade_open: true
  notify_on_trade_close: true
  notify_on_error: true

# ==============================================================================
# WEBHOOK (Optional - for TradingView alerts)
# ==============================================================================
webhook:
  enabled: false
  host: "0.0.0.0"
  port: 8080
  secret: ""
  path: "/webhook"

# ==============================================================================
# BACKTESTING (Reference - not used in production)
# ==============================================================================
backtest:
  start_date: "2024-01-01"
  end_date: "2024-12-17"
  initial_balance: 10000.0
  commission_percent: 0.06
  slippage_percent: 0.03    # Added for realistic testing
